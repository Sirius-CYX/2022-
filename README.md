# 2022-
帮助栋哥设计点名算法

如何搭建环境和运行代码：
电脑需要安装Python环境以及MySQl的环境。（其中MySQL最好使用8.0以上的版本）
这里特别注意，请在运行代码前将您的MySQL密码更改为“123456”，或者将所有代码连接数据库部分的密码更改为您的代码。
小编使用的是Python3.10，用的编译器是Pycharm社区版2022，MySQL版本为8.03，如果因为工具的版本不同而报错实在抱歉。

Python解释器需要安装一些库，名称及作用如下：
pymysql：用于连接Python和MySQL数据库
numpy：用于生成随机数据
Faker：用于生成随机姓名

如何运行代码：
每个py文件之间都已经连接好了，所以只需要在algorithm_1.py处运行代码即可。运行一次大致需要5s时间。
运行后会在终端打印出6组数据，前5组分别是每个班级的有效点名次数以及总请求次数以及E值，第六组数据为五个班级的E的平均值。
在进程结束后就可以在MySQL终端查看数据库了。

这里解释一下每个py文件的功能：
create_data.py文件是专门负责生成随机数据的
DB.py文件是连接数据库并将生成数据导入数据库。
read.py文件负责连接数据库并读取刚刚生成的数据。
algorithm_1.py文件会使用点名算法生成点名方案和E值。
out_put.py文件用来将生成的点名方案和E值结果存入数据库。

现在说明一下如何查看数据库数据：
在MySQL终端成功登录后，use student（使用数据库student），然后就可以查询生成的数据了，五个班级的导入数据分别存在5个表中，即class1-class5
5个班级的点名方案分别存在5个表中，分别为plans1-plans5.
导出的表还有一个表叫做E_table，可以查看每个班级的E值和E的平均值。

如何看懂数据库的表：
id代表一个学生的学号，用1-90表示。
name即一个学生的姓名。
que为一个学生的绩点排名。
score为一个学生的绩点。
attendance为一个学生的出勤情况，这里我们用20个01表示，0表示缺勤，1表示出勤，0和1的从左往右依次为20节课的出勤情况。
同理，plan为点名方案，0代表没有抽到该学生点名，1代表抽到他点名。

如果操作正确，E值一般会稳定在0.6多左右，偶尔会出现0.5多的情况，概率越为4%，目前没有遇到过超过0.7的情况但不代表一定不会出现 。

到此代码的运行注意事项已经解释完毕，祝您使用愉快>_<